
print("Введите коэффициенты для ПЕРВОГО уравнения:")
a1 = float(input("Число перед x1: "))
b1 = float(input("Число перед x2: "))
c1 = float(input("Число перед x3: "))
d1 = float(input("Число справа от '=': "))
print("")

# Вводим коэффициенты для второго уравнения
print("Введите коэффициенты для ВТОРОГО уравнения:")
a2 = float(input("Число перед x1: "))
b2 = float(input("Число перед x2: "))
c2 = float(input("Число перед x3: "))
d2 = float(input("Число справа от '=': "))
print("")

# Вводим коэффициенты для третьего уравнения
print("Введите коэффициенты для ТРЕТЬЕГО уравнения:")
a3 = float(input("Число перед x1: "))
b3 = float(input("Число перед x2: "))
c3 = float(input("Число перед x3: "))
d3 = float(input("Число справа от '=': "))
print("")

# Вводим точность
print("Введите точность решения (например, 0.01 для сотых):")
eps = float(input("Точность: "))

# Начальные значения (начинаем с нулей)
x1 = 0.0
x2 = 0.0
x3 = 0.0

# Счётчик шагов
shag = 0

print("")
print("Начинаем считать...")
print("Шаг    x1         x2         x3")

# Главный цикл - считаем пока не достигнем точности
while True:
    # Запоминаем старые значения
    staroe_x1 = x1
    staroe_x2 = x2
    staroe_x3 = x3

    # Считаем новые значения по формулам
    # x1 из первого уравнения
    x1 = (d1 - b1 * staroe_x2 - c1 * staroe_x3) / a1

    # x2 из второго уравнения
    x2 = (d2 - a2 * staroe_x1 - c2 * staroe_x3) / b2

    # x3 из третьего уравнения
    x3 = (d3 - a3 * staroe_x1 - b3 * staroe_x2) / c3

    # Увеличиваем счётчик шагов
    shag = shag + 1

    # Показываем текущие значения
    print(f"{shag:3}   {x1:.6f}   {x2:.6f}   {x3:.6f}")

    # Проверяем, насколько изменились значения
    izmenenie_x1 = abs(x1 - staroe_x1)
    izmenenie_x2 = abs(x2 - staroe_x2)
    izmenenie_x3 = abs(x3 - staroe_x3)

    # Находим максимальное изменение
    maks_izmenenie = max(izmenenie_x1, izmenenie_x2, izmenenie_x3)

    # Если изменения маленькие - останавливаемся
    if maks_izmenenie < eps:
        print("")
        print(f"Готово! Достигнута точность {eps}")
        print(f"Потребовалось шагов: {shag}")
        break

    # Если слишком много шагов - тоже останавливаемся
    if shag > 100:
        print("")
        print("Слишком много шагов! Может, что-то не так?")
        break

print("")
print("РЕЗУЛЬТАТ:")
print(f"x1 = {x1:.6f}")
print(f"x2 = {x2:.6f}")
print(f"x3 = {x3:.6f}")

print("")
print("Проверяем, правильно ли посчитали:")
# Подставляем найденные x в уравнения
proverka1 = a1 * x1 + b1 * x2 + c1 * x3
proverka2 = a2 * x1 + b2 * x2 + c2 * x3
proverka3 = a3 * x1 + b3 * x2 + c3 * x3

print(f"1 уравнение: {proverka1:.6f} (должно быть {d1})")
print(f"2 уравнение: {proverka2:.6f} (должно быть {d2})")
print(f"3 уравнение: {proverka3:.6f} (должно быть {d3})")

print("")
print("Программа закончила работу!")